<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/2023/07/11/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/"/>
      <url>/2023/07/11/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h3 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h3><h4 id="一、安装VMware-Workstation"><a href="#一、安装VMware-Workstation" class="headerlink" title="一、安装VMware Workstation"></a>一、安装VMware Workstation</h4><p>​秘钥：JU090-6039P-08409-8J0QH-2YR7F</p><h4 id="二、安装Linux（Centos7）"><a href="#二、安装Linux（Centos7）" class="headerlink" title="二、安装Linux（Centos7）"></a>二、安装Linux（Centos7）</h4><p>​详细安装步骤，查看word文档。</p><h5 id="1-检查是否可以联网"><a href="#1-检查是否可以联网" class="headerlink" title="1.检查是否可以联网"></a>1.检查是否可以联网</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.baidu.com</span><br></pre></td></tr></table></figure><p>  如果无法联网，解决办法查看word文档。  </p><h5 id="2-查看本机ip地址"><a href="#2-查看本机ip地址" class="headerlink" title="2.查看本机ip地址"></a>2.查看本机ip地址</h5>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig</span><br></pre></td></tr></table></figure><h4 id="三、安装Xshell和Xftp"><a href="#三、安装Xshell和Xftp" class="headerlink" title="三、安装Xshell和Xftp"></a>三、安装Xshell和Xftp</h4><h5 id="1-Xshell"><a href="#1-Xshell" class="headerlink" title="1.Xshell"></a>1.Xshell</h5><p>​  新建会话，填入主机的ip地址。</p><p>​  根据步骤选择“结束并保存”，输入用户名root，自己设置的密码即可。</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">①关闭防火墙</span><br><span class="line">systemctl disable firewalld.service  永久关闭防火墙</span><br><span class="line">systemctl status firewalld  查看防火墙状态</span><br><span class="line">②在xshell登录root后</span><br><span class="line">命令：java -version</span><br><span class="line">含义：查看java版本</span><br></pre></td></tr></table></figure><h5 id="2-Xftp"><a href="#2-Xftp" class="headerlink" title="2.Xftp"></a>2.Xftp</h5><p>​  新建会话，填入主机的ip地址。同上。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">使用xftp在/usr/local下新建文件夹  java</span><br><span class="line">cd /usr/local/java</span><br><span class="line">tar -zxvf jdk-<span class="number">11.0</span><span class="number">.16</span>.1_linux-x64_bin.tar.gz</span><br></pre></td></tr></table></figure><h4 id="四、安装MariaDB并配置"><a href="#四、安装MariaDB并配置" class="headerlink" title="四、安装MariaDB并配置"></a>四、安装MariaDB并配置</h4><h5 id="1-创建-x2F-etc-x2F-yum-repos-d-x2F-MariaDB-repo文件"><a href="#1-创建-x2F-etc-x2F-yum-repos-d-x2F-MariaDB-repo文件" class="headerlink" title="1.创建&#x2F;etc&#x2F;yum.repos.d&#x2F;MariaDB.repo文件"></a>1.创建&#x2F;etc&#x2F;yum.repos.d&#x2F;MariaDB.repo文件</h5><p>​     运行命令</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure><h5 id="2-安装、启动MariaDB"><a href="#2-安装、启动MariaDB" class="headerlink" title="2.安装、启动MariaDB"></a>2.安装、启动MariaDB</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mariadb mariadb-server  安装MariaDB</span><br><span class="line">systemctl start mariadb 启动MariaDB</span><br><span class="line">systemctl enable mariadb 设置开机启动</span><br></pre></td></tr></table></figure><h5 id="3-配置MariaDB"><a href="#3-配置MariaDB" class="headerlink" title="3.配置MariaDB"></a>3.配置MariaDB</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">mysql_secure_installation</span><br><span class="line">首先是设置密码，会提示先输入密码</span><br><span class="line"></span><br><span class="line">Enter current password <span class="keyword">for</span> <span class="title function_">root</span> <span class="params">(enter <span class="keyword">for</span> none)</span>:  &#123;回车&#125;</span><br><span class="line"></span><br><span class="line">Set root password? [Y/n]  &#123;是否设置root用户密码，输入y并回车&#125;</span><br><span class="line"></span><br><span class="line">New password: &#123;设置root用户的新密码&#125;</span><br><span class="line"></span><br><span class="line">Re-enter <span class="keyword">new</span> <span class="title class_">password</span>:&#123;确认密码&#125;</span><br><span class="line"></span><br><span class="line">Remove anonymous users? [Y/n] &#123;是否删除匿名用户，回车&#125;</span><br><span class="line"></span><br><span class="line">Disallow root login remotely? [Y/n] &#123;是否禁止root远程登录, 输入n回车&#125;</span><br><span class="line"></span><br><span class="line">Remove test database and access to it? [Y/n] &#123;是否删除test数据库，回车&#125;</span><br><span class="line"></span><br><span class="line">Reload privilege tables now? [Y/n] &#123;是否重新加载权限表，回车&#125;</span><br></pre></td></tr></table></figure><h5 id="4-配置MariaDB的字符集"><a href="#4-配置MariaDB的字符集" class="headerlink" title="4.配置MariaDB的字符集"></a>4.配置MariaDB的字符集</h5><p>​      ①&#x2F;etc&#x2F;my.cnf</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mysqld]</span><br><span class="line">character-set-server=utf8</span><br></pre></td></tr></table></figure><p>​  ②&#x2F;etc&#x2F;my.cnf.d&#x2F;client.cnf</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line"><span class="keyword">default</span>-character-set=utf8</span><br></pre></td></tr></table></figure><p>​  ③&#x2F;etc&#x2F;my.cnf.d&#x2F;mysql-clients.cnf</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[mysql]</span><br><span class="line"><span class="keyword">default</span>-character-set=utf8</span><br></pre></td></tr></table></figure><h5 id="5-重启MariaDB"><a href="#5-重启MariaDB" class="headerlink" title="5.重启MariaDB"></a>5.重启MariaDB</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart mariadb</span><br></pre></td></tr></table></figure><h5 id="6-登录MariaDB"><a href="#6-登录MariaDB" class="headerlink" title="6.登录MariaDB"></a>6.登录MariaDB</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p123456</span><br></pre></td></tr></table></figure><h5 id="7-验证设置的字符集"><a href="#7-验证设置的字符集" class="headerlink" title="7.验证设置的字符集"></a>7.验证设置的字符集</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">①</span><br><span class="line">show variables like &quot;%character%&quot;;</span><br><span class="line">执行结果：</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| Variable_name            | Value                      |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">| character_set_client     | utf8                       |</span><br><span class="line">| character_set_connection | utf8                       |</span><br><span class="line">| character_set_database   | utf8                       |</span><br><span class="line">| character_set_filesystem | binary                     |</span><br><span class="line">| character_set_results    | utf8                       |</span><br><span class="line">| character_set_server     | utf8                       |</span><br><span class="line">| character_set_system     | utf8                       |</span><br><span class="line">| character_sets_dir       | /usr/share/mysql/charsets/ |</span><br><span class="line">+--------------------------+----------------------------+</span><br><span class="line">8 rows in set (0.001 sec)</span><br><span class="line">②</span><br><span class="line">show variables like &quot;%collation%&quot;;</span><br><span class="line">执行结果：</span><br><span class="line">+----------------------+-----------------+</span><br><span class="line">| Variable_name        | Value           |</span><br><span class="line">+----------------------+-----------------+</span><br><span class="line">| collation_connection | utf8_general_ci |</span><br><span class="line">| collation_database   | utf8_general_ci |</span><br><span class="line">| collation_server     | utf8_general_ci |</span><br><span class="line">+----------------------+-----------------+</span><br><span class="line">3 rows in set (0.000 sec)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="8-授予外网登陆权限"><a href="#8-授予外网登陆权限" class="headerlink" title="8.授予外网登陆权限"></a>8.授予外网登陆权限</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant all privileges on *.* to root@&#x27;%&#x27; identified by &#x27;123456&#x27;;</span><br></pre></td></tr></table></figure><h4 id="五、安装并配置Redis"><a href="#五、安装并配置Redis" class="headerlink" title="五、安装并配置Redis"></a>五、安装并配置Redis</h4><h5 id="1-安装Rdis"><a href="#1-安装Rdis" class="headerlink" title="1.安装Rdis"></a>1.安装Rdis</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">①在/usr/local目录下，新建文件夹 redis</span><br><span class="line">②解压安装包</span><br><span class="line">cd /usr/local/redis</span><br><span class="line">tar -zxvf redis-<span class="number">5.0</span><span class="number">.5</span>.tar.gz</span><br><span class="line">③进入解压后的文件目录使用make命令进行编译</span><br><span class="line">cd /usr/local/redis/redis-<span class="number">5.0</span><span class="number">.5</span></span><br><span class="line">make</span><br><span class="line">④进入src文件执行make install安装redis</span><br><span class="line">cd src</span><br><span class="line">make install</span><br><span class="line">⑤在src目录启动redis</span><br><span class="line">./redis-server ../redis.conf</span><br></pre></td></tr></table></figure><h5 id="2-修改配置实现redis后台运行、远程连接访问"><a href="#2-修改配置实现redis后台运行、远程连接访问" class="headerlink" title="2.修改配置实现redis后台运行、远程连接访问"></a>2.修改配置实现redis后台运行、远程连接访问</h5><p>​     ① 在redis的安装目录找到redis.conf配置文件进行修改</p><p>​         找到bind 127.0.0.1并将其注释</p><p>​     ②修改保护模式，不修改保护模式也是只能内网访问的 </p><p>​        protected-mode yes 改成protected-mode no</p><p>​     ③daemonize no 改为yes 后台一直运行</p><p>​ ④requirepass 123456</p><p>​     ⑤重启redis</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/redis/redis-<span class="number">5.0</span><span class="number">.5</span>/src</span><br><span class="line">./redis-server ../redis.conf</span><br></pre></td></tr></table></figure><h5 id="3-设置Redis开机启动"><a href="#3-设置Redis开机启动" class="headerlink" title="3.设置Redis开机启动"></a>3.设置Redis开机启动</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">①在/etc/systemd/system/下新建文件redis.service</span><br><span class="line">②重启系统服务systemctl daemon-reload</span><br><span class="line">③设置开机自启systemctl enable redis</span><br><span class="line">④重启redis服务systemctl restart redis</span><br><span class="line">⑤查看redis服务状态 systemctl status redis</span><br></pre></td></tr></table></figure><h5 id="4-安装RedisDesktopManager"><a href="#4-安装RedisDesktopManager" class="headerlink" title="4.安装RedisDesktopManager"></a>4.安装RedisDesktopManager</h5><p>​     新建一个连接，注意输入刚才设置的redis密码。</p><h4 id="六、安装mongodb"><a href="#六、安装mongodb" class="headerlink" title="六、安装mongodb"></a>六、安装mongodb</h4><h5 id="1-进入到-x2F-usr-x2F-local下，将压缩包进行解压，并更改文件夹名为mongo"><a href="#1-进入到-x2F-usr-x2F-local下，将压缩包进行解压，并更改文件夹名为mongo" class="headerlink" title="1.进入到&#x2F;usr&#x2F;local下，将压缩包进行解压，并更改文件夹名为mongo"></a>1.进入到&#x2F;usr&#x2F;local下，将压缩包进行解压，并更改文件夹名为mongo</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local</span><br><span class="line">tar -zxvf mongodb-linux-x86_64-rhel70-<span class="number">4.2</span><span class="number">.21</span>.tgz</span><br></pre></td></tr></table></figure><h5 id="2-在mongo文件夹中新建三个文件，分别为data、conf、logs，同时把Keyfile-key复制到此文件夹中"><a href="#2-在mongo文件夹中新建三个文件，分别为data、conf、logs，同时把Keyfile-key复制到此文件夹中" class="headerlink" title="2.在mongo文件夹中新建三个文件，分别为data、conf、logs，同时把Keyfile.key复制到此文件夹中"></a>2.在mongo文件夹中新建三个文件，分别为data、conf、logs，同时把Keyfile.key复制到此文件夹中</h5><p>​设置data、conf、logs三个文件夹的访问权限为读写（权限为777）</p><p>​设置Keyfile.key文件的访问权限为只读400</p><h5 id="3-在data和conf中添加文件"><a href="#3-在data和conf中添加文件" class="headerlink" title="3.在data和conf中添加文件"></a>3.在data和conf中添加文件</h5><p>​data文件中新建三个文件夹db1、db2、db3</p><p>​conf文件中复制三个文件mongod1.conf、mongod2.conf、mongod3.conf</p><p>​<strong>注意修改配置文件的路径</strong></p><h5 id="3-启动mongodb"><a href="#3-启动mongodb" class="headerlink" title="3.启动mongodb"></a>3.启动mongodb</h5><p>​进入到&#x2F;usr&#x2F;local&#x2F;mongo&#x2F;bin</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/mongo/bin</span><br><span class="line">./mongod --port <span class="number">37017</span> -f /usr/local/mongo/conf/mongod1.conf</span><br><span class="line">./mongod --port <span class="number">37018</span> -f /usr/local/mongo/conf/mongod2.conf</span><br><span class="line">./mongod --port <span class="number">37019</span> -f /usr/local/mongo/conf/mongod3.conf</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="4-启动mongodb并配置"><a href="#4-启动mongodb并配置" class="headerlink" title="4.启动mongodb并配置"></a>4.启动mongodb并配置</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">①启动mongodb</span><br><span class="line">./mongo --port <span class="number">37017</span></span><br><span class="line">②初始化副本集</span><br><span class="line">rs.initiate(&#123;_id:<span class="string">&quot;rs03Set&quot;</span>, members:[&#123;_id:<span class="number">0</span>,host:<span class="string">&quot;192.168.222.128:37017&quot;</span>&#125;,&#123;_id:<span class="number">1</span>,host:<span class="string">&quot;192.168.222.128:37018&quot;</span>&#125;,&#123;_id:<span class="number">2</span>,host:<span class="string">&quot;192.168.222.128:37019&quot;</span>&#125;]&#125;);</span><br><span class="line"> 结果显示</span><br><span class="line">     反馈 ok:<span class="number">1</span></span><br><span class="line">③创建用户</span><br><span class="line">use admin</span><br><span class="line">db.createUser(&#123; user: <span class="string">&#x27;root&#x27;</span>, pwd: <span class="string">&#x27;123456&#x27;</span>, roles: [ &#123; role: <span class="string">&quot;root&quot;</span>, db: <span class="string">&quot;admin&quot;</span> &#125; ] &#125;);</span><br><span class="line">结果显示</span><br><span class="line">    Successfully added user: &#123;</span><br><span class="line"><span class="string">&quot;user&quot;</span> : <span class="string">&quot;root&quot;</span>,</span><br><span class="line"><span class="string">&quot;roles&quot;</span> : [</span><br><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;role&quot;</span> : <span class="string">&quot;root&quot;</span>,</span><br><span class="line"><span class="string">&quot;db&quot;</span> : <span class="string">&quot;admin&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="5-设置mongodb为开机启动"><a href="#5-设置mongodb为开机启动" class="headerlink" title="5.设置mongodb为开机启动"></a>5.设置mongodb为开机启动</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">①/etc/systemd/system中复制三个文件mongodb1.service、mongodb2.service、mongodb3.service</span><br><span class="line">    **注意** 授予<span class="number">754</span>权限</span><br><span class="line">②systemctl daemon-reload  重新加载 systemd 管理的单元文件</span><br><span class="line">③为每个节点的 MongoDB 服务启用自动启动</span><br><span class="line">systemctl enable mongodb1.service</span><br><span class="line">systemctl enable mongodb2.service</span><br><span class="line">systemctl enable mongodb3.service</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello world</title>
      <link href="/2022/11/14/Hello,world/"/>
      <url>/2022/11/14/Hello,world/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="Hello-everyone"><a href="#Hello-everyone" class="headerlink" title="Hello everyone"></a>Hello everyone</h1><p>博客创作之初想分享很多好玩的东西（pojie之类)给大家，希望能够坚持下去吧嘿嘿</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
